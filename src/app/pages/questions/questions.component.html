<div class="flex-p">
  <mat-card>
    <mat-card-header class="text-cente">
      <mat-card-title>
        <h2>Deal Assessment</h2>
      </mat-card-title>
      <mat-card-subtitle>
        <p>Please select a deal, assessment year and quarter to start the assessment</p>
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="flex-row-container p-20">
        <form [formGroup]="selectionForm" class="user-form">
          <label class="label-height">Select:</label>
          <mat-form-field>
            <mat-select placeholder="Project Name" formControlName="projectId" (change)="loadCompanies()">
              <mat-option *ngFor="let project of projects" [value]="project.id">
                {{project.projectName}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
            <mat-select placeholder="Company Name" formControlName="companyId" (change)="loadYears()" [disabled]="!selectionForm.controls['projectId'].value">
              <mat-option *ngFor="let company of companies" [value]="company.id">
                {{company.companyName}} ({{company.companyType}})
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-select placeholder="Assessment Year" formControlName="assessmentYear" (change)="loadQuarters()" [disabled]="!selectionForm.controls['companyId'].value">
              <mat-option *ngFor="let year of years" [value]="year.id">
                {{year.year}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-select placeholder="Assessment Quarter" formControlName="assessmentQuarter" [disabled]="!selectionForm.controls['assessmentYear'].value">
              <mat-option *ngFor="let q of quarters" [value]="q.id">
                {{q.quarter}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </form>
      </div>
      <!-- <mat-tab-group *ngIf="(selectedDealId && selectedYear && selectedQuarter)">
        <mat-tab *ngFor="let subheading of subheadings" [label]="subheading.name">
          <div fxLayout="column" class="form-field-outer p-20">
            <mat-form-field *ngFor="let question of subheading.questions" class="w-100 m-b10">
              <textarea matInput [placeholder]="question.question" [(ngModel)]="question.answer"></textarea>
            </mat-form-field>
          </div>
          <button mat-raised-button color="primary" class="float-r" (click)="save(subheading)">Save</button>
        </mat-tab>
      </mat-tab-group> -->
      <!-- <button mat-raised-button color="primary">Submit</button> -->
    </mat-card-content>
  </mat-card>
</div>